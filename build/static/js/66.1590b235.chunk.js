"use strict";(self.webpackChunkfilmoteka_react_firebase=self.webpackChunkfilmoteka_react_firebase||[]).push([[66],{5066:function(t,e,a){a.r(e);var n=a(2791),s=a(6871),r=a(202),o=a(1589),i=a(8594),u=a(5028),c=a(3329),l=[{path:"/trending",title:"Trending movies"},{path:"/top-rated",title:"Top-rated movies"},{path:"/upcoming",title:"Upcoming movies"}];e.default=function(t){var e=t.title,a=(0,i.v)(),f=a.filmsList,p=a.totalPages,d=a.loadingStatus,g=a.setList,v=(0,s.TH)(),m=(0,u.k)(),h=m.fetchPage,k=m.setPage;return(0,n.useEffect)((function(){!function(){var t,e;null!==(t=v.state)&&void 0!==t&&t.fromModal||null!==(e=v.state)&&void 0!==e&&e.background||"1"===h?console.log("state from modal"):(console.log("set 1 page"),k("1"))}()}),[v]),(0,n.useEffect)((function(){console.log(v.state)}),[v.state]),(0,n.useEffect)((function(){switch(v.pathname){case"/trending":g(r.fV,h);break;case"/top-rated":g(r.pp,h);break;case"/upcoming":g(r.yB,h)}}),[v,h]),(0,c.jsx)(o.i,{loadingStatus:d,title:e,filmsList:f,pathArr:l,totalPages:p})}},8594:function(t,e,a){a.d(e,{v:function(){return c}});var n=a(4165),s=a(5861),r=a(885),o=a(2791),i=a(5138),u=a(6871),c=function(){var t=(0,o.useState)([]),e=(0,r.Z)(t,2),a=e[0],c=e[1],l=(0,o.useState)(0),f=(0,r.Z)(l,2),p=f[0],d=f[1],g=(0,i._)(),v=g.loadingStatus,m=g.setLoadingStatus,h=(0,o.useState)([]),k=(0,r.Z)(h,2),b=k[0],L=k[1],S=(0,u.TH)();(0,o.useEffect)((function(){L(a)}),[a]);var Z=function(){var t=(0,s.Z)((0,n.Z)().mark((function t(e,a,s,r){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=S.state)||void 0===o||!o.fromModal){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,m("pending"),t.next=6,e(a,s,r);case 6:i=t.sent,m("loaded"),c(i.results),i.pages?d(i.pages):d(i.total_pages),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),m("error"),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a,n,s){return t.apply(this,arguments)}}();return{filmsList:a,filteredList:b,totalPages:p,loadingStatus:v,setList:Z,setFilteredList:L}}}}]);
//# sourceMappingURL=66.1590b235.chunk.js.map