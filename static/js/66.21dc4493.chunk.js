"use strict";(self.webpackChunkfilmoteka_react_firebase=self.webpackChunkfilmoteka_react_firebase||[]).push([[66],{5066:function(t,e,a){a.r(e);var n=a(2791),s=a(6871),r=a(202),o=a(1589),i=a(8594),c=a(5028),u=a(2997),l=a(3329),f=[{path:"trending",title:"Trending movies"},{path:"top-rated",title:"Top-rated movies"},{path:"upcoming",title:"Upcoming movies"}];e.default=function(t){var e=t.title,a=(0,i.v)(),p=a.filmsList,d=a.totalPages,g=a.loadingStatus,v=a.setList,m=(0,s.TH)(),h=(0,c.k)(),k=h.fetchPage,b=h.setPage;return(0,n.useEffect)((function(){!function(){var t,e;null!==(t=m.state)&&void 0!==t&&t.fromModal||null!==(e=m.state)&&void 0!==e&&e.background||"1"===k?console.log("state from modal"):(console.log("set 1 page"),b("1"))}()}),[m]),(0,n.useEffect)((function(){switch(m.pathname){case"".concat(u.v,"trending"):v(r.fV,k);break;case"".concat(u.v,"top-rated"):v(r.pp,k);break;case"".concat(u.v,"upcoming"):v(r.yB,k)}}),[m,k]),(0,l.jsx)(o.i,{loadingStatus:g,title:e,filmsList:p,pathArr:f,totalPages:d})}},8594:function(t,e,a){a.d(e,{v:function(){return u}});var n=a(4165),s=a(5861),r=a(885),o=a(2791),i=a(5138),c=a(6871),u=function(){var t=(0,o.useState)([]),e=(0,r.Z)(t,2),a=e[0],u=e[1],l=(0,o.useState)(0),f=(0,r.Z)(l,2),p=f[0],d=f[1],g=(0,i._)(),v=g.loadingStatus,m=g.setLoadingStatus,h=(0,o.useState)([]),k=(0,r.Z)(h,2),b=k[0],L=k[1],S=(0,c.TH)();(0,o.useEffect)((function(){L(a)}),[a]);var Z=function(){var t=(0,s.Z)((0,n.Z)().mark((function t(e,a,s,r){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=S.state)||void 0===o||!o.fromModal){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,m("pending"),t.next=6,e(a,s,r);case 6:i=t.sent,m("loaded"),u(i.results),i.pages?d(i.pages):d(i.total_pages),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),m("error"),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a,n,s){return t.apply(this,arguments)}}();return{filmsList:a,filteredList:b,totalPages:p,loadingStatus:v,setList:Z,setFilteredList:L}}}}]);
//# sourceMappingURL=66.21dc4493.chunk.js.map