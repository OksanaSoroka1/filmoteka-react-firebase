"use strict";(self.webpackChunkbooks_list_firebase=self.webpackChunkbooks_list_firebase||[]).push([[368],{202:function(n,e,t){t.d(e,{JZ:function(){return d},Pg:function(){return l},Pt:function(){return f},fV:function(){return o},pp:function(){return p},yB:function(){return u}});var r=t(4165),i=t(5861),c=t(4569),a=t.n(c),s="b6be36a5da27d5ea7b8b28c63f72e28e";a().defaults.baseURL="https://api.themoviedb.org/3/";var o=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e,t,i,c=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,t=c.length>1&&void 0!==c[1]?c[1]:"movie",i=c.length>2&&void 0!==c[2]?c[2]:"week",n.next=5,a().get("/trending/".concat(t,"/").concat(i,"?api_key=").concat(s,"&page=").concat(e)).then((function(n){return n.data}));case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),u=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e,t=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:1,t.length>1?t[1]:void 0,n.next=4,a()("/movie/upcoming?api_key=".concat(s,"&page=").concat(e)).then((function(n){return n.data}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e,t=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.length>0&&void 0!==t[0]?t[0]:1,t.length>1?t[1]:void 0,n.next=4,a()("/movie/top_rated?api_key=".concat(s,"&page=").concat(e)).then((function(n){return n.data}));case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a().get("/movie/".concat(e,"?api_key=").concat(s)).then((function(n){return n.data}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e,t,i,c=arguments;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:1,t=c.length>1?c[1]:void 0,i=c.length>2?c[2]:void 0,console.log(i),n.next=6,a().get("/search/movie?api_key=".concat(s,"&query=").concat(t,"&page=").concat(e).concat(i&&"&year=".concat(i))).then((function(n){var e=n.data;return{results:e.results,pages:e.total_pages}}));case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a()("/genre/movie/list?api_key=".concat(s)).then((function(n){return n.data.genres}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},9368:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var r,i,c,a,s,o,u,p,l,f=t(4165),d=t(5861),h=t(885),v=t(168),x=t(6031),g=t(2791),Z=t(6871),b=t(9434),k=t(4161),m=t(5148),w=t(202),y=t(3824),j=t(894),_=t(7609),P=t(4401),C=t(7245),L=t(5079),R=t(3329),T=x.ZP.ul(r||(r=(0,v.Z)(["\n\nposition: absolute;\nright: 0;\ntop: 30%;\nz-index: 1002;\ndisplay: flex;\nflex-direction: column;\n\n"]))),A=(0,x.ZP)(m.Qh)(i||(i=(0,v.Z)(["\n\n/* fill: ",";\n */\n"])),(function(n){return!0===n?k.n.fontColors.accentFirst:k.n.fontColors.primary})),S=function(n){var e=n.film,t=(0,y.a)(),r=t.isAuth,i=t.id,c=(0,C.R)(),a=c.favorites,s=c.watched,o=c.wishlist,u=(0,b.I0)(),p=function(){var n=(0,d.Z)((0,f.Z)().mark((function n(e,t,r,i,c,a){var s,o,p,d;return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=l(i,t.id),o=s.inList,p=s.key,console.log("key",p),console.log(o),!0!==o){n.next=16;break}return n.prev=4,n.next=7,(0,j.QY)(e,p,r);case 7:return u(c(p)),n.abrupt("return");case 11:n.prev=11,n.t0=n.catch(4),console.log(n.t0);case 14:n.next=26;break;case 16:return n.prev=16,n.next=19,(0,j.R0)(e,t,r);case 19:d=n.sent,u(a([{key:d,info:t}])),n.next=26;break;case 23:n.prev=23,n.t1=n.catch(16),console.log(n.t1);case 26:case"end":return n.stop()}}),n,null,[[4,11],[16,23]])})));return function(e,t,r,i,c,a){return n.apply(this,arguments)}}();function l(n,e){var t=n.map((function(n){return n.info.id})),r=t.includes(e);if(!0===r){var i=n.find((function(n){return n.info.id===e}));return{inList:r,key:i.key}}return{inList:r}}function h(n){return v.apply(this,arguments)}function v(){return(v=(0,d.Z)((0,f.Z)().mark((function n(t){return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=3;break}return console.log("not auth"),n.abrupt("return");case 3:n.t0=t.currentTarget.id,n.next="favorites"===n.t0?6:"watched"===n.t0?8:"wishlist"===n.t0?10:12;break;case 6:return p(i,e,t.currentTarget.id,a,L.QJ,L.oW),n.abrupt("break",13);case 8:return p(i,e,t.currentTarget.id,s,L.tn,L.PA),n.abrupt("break",13);case 10:return p(i,e,t.currentTarget.id,o,L.$f,L.ju),n.abrupt("break",13);case 12:return n.abrupt("break",13);case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function x(n,e){return{fill:!0===l(n,e).inList?k.n.fontColors.accentFirst:k.n.fontColors.primary}}return(0,R.jsxs)(T,{children:[(0,R.jsx)("li",{btn:!0,children:(0,R.jsx)(A,{onClick:h,style:x(a,e.id),id:"favorites",type:"button",children:(0,R.jsx)(m.Ld,{children:(0,R.jsx)("use",{href:"".concat(_.Z,"#icon-heart")})})})}),(0,R.jsx)("li",{btn:!0,children:(0,R.jsx)(A,{onClick:h,style:x(s,e.id),id:"watched",type:"button",children:(0,R.jsx)(m.Ld,{children:(0,R.jsx)("use",{href:"".concat(_.Z,"#icon-ApproveTick")})})})}),(0,R.jsx)("li",{btn:!0,children:(0,R.jsx)(A,{onClick:h,style:x(o,e.id),id:"wishlist",type:"button",children:(0,R.jsx)(m.Ld,{children:(0,R.jsx)("use",{href:"".concat(_.Z,"#icon-Plus")})})})})]})},F=x.ZP.section(c||(c=(0,v.Z)(["\nposition: relative;\ndisplay: flex;\nmin-width: 620px;\njustify-content: space-between;\npadding:  50px;\n"]))),I=x.ZP.div(a||(a=(0,v.Z)(["\nwidth: 320px;\nflex-shrink: 0;\nmargin-right: 30px;\n"]))),Q=x.ZP.div(s||(s=(0,v.Z)(["\n"]))),z=x.ZP.h3(o||(o=(0,v.Z)(["\nfont-size: 38px;\n"]))),J=x.ZP.ul(u||(u=(0,v.Z)(["\ndisplay: ",";\nflex-wrap: ",";\n"])),(function(n){return n.genres&&"flex"}),(function(n){return n.genres&&"wrap"})),O=x.ZP.li(p||(p=(0,v.Z)(["\n&:not(:last-child){\n    margin-bottom: ",";\n    margin-right: ",";\n}\n"])),(function(n){return n.content&&"20px"}),(function(n){return n.genres&&"20px"})),U=x.ZP.p(l||(l=(0,v.Z)(["\n\n\n"]))),q=function(){var n=(0,g.useState)(""),e=(0,h.Z)(n,2),t=e[0],r=e[1],i=(0,g.useState)(!1),c=(0,h.Z)(i,2),a=(c[0],c[1],(0,g.useState)(!1)),s=(0,h.Z)(a,2),o=(s[0],s[1],(0,g.useState)(!1)),u=(0,h.Z)(o,2),p=(u[0],u[1],(0,y.a)()),l=(p.isAuth,p.id,(0,Z.UO)().filmId),v=function(){var n=(0,d.Z)((0,f.Z)().mark((function n(e){var t;return(0,f.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,w.Pg)(e);case 3:t=n.sent,r(t),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}();return(0,g.useEffect)((function(){v(l)}),[]),(0,R.jsx)(R.Fragment,{children:t&&(0,R.jsxs)(F,{children:[(0,R.jsx)(I,{children:(0,R.jsx)("img",{src:t.poster_path?"https://image.tmdb.org/t/p/original".concat(t.poster_path):P})}),(0,R.jsxs)(Q,{children:[(0,R.jsx)(z,{children:t.title}),(0,R.jsxs)(J,{content:!0,children:[(0,R.jsx)(O,{content:!0,children:(0,R.jsxs)(U,{date:!0,children:["Release date: ",t.release_date]})}),(0,R.jsxs)(O,{content:!0,children:[(0,R.jsx)(U,{children:"Genres:"}),(0,R.jsx)(J,{genres:!0,children:t.genres.map((function(n){return(0,R.jsx)(O,{genres:!0,children:(0,R.jsx)(U,{id:n.id,children:n.name})},n.id)}))})]}),(0,R.jsx)(O,{content:!0,children:(0,R.jsxs)(U,{rate:!0,children:["Rate: ",t.vote_average]})}),t.overview&&(0,R.jsx)(O,{content:!0,children:(0,R.jsxs)(U,{overview:!0,children:["Overview:",t.overview]})})]})]}),(0,R.jsx)(S,{film:t})]})})}},4401:function(n,e,t){n.exports=t.p+"static/media/noImage.1eb8f2f3700dea5bc5e9.png"}}]);
//# sourceMappingURL=368.edf41658.chunk.js.map